{% extends "base.html" %}
{% load static %}

{% block page_header %}
    <div class="container header-container">
        <div class="row">
            <div class="col">

            </div>
        </div>
    </div>
{% endblock %}

{% block content %}
     <!-- White background -->
     <div class="container h-100 overlay"></div>
     <div class="container-fluid">
         <!-- Page-title -->
         <div class="row h-100">
             <div class="col-7 col-md-6 my-auto">
                 <h2 class="logo-font">Performances</h2>
                 <hr class="w-50 mb-1">
             </div>
         </div>
         <!-- Display-area -->
         <div class="row">
             <div class="col s12 m6 xl4 artist-container offset-1">
                 <div class="row mt-1 mb-2"></div>
                 <div class="row">
                     {% for performance in performances %}
                         <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3">
                             <div class="card h-100 border-2">
                                 <!-- Video-section -->
                                 {% if performance.video_url %}
                                    <!-- Bootstrap iframe https://mdbootstrap.com/docs/standard/extended/video/ -->
                                    <div class="ratio ratio-16x9">
                                        <iframe src="{{ performance.video_url }}" title="YouTube video" alt="{{ performance.performance_title }}" allowfullscreen></iframe>
                                    </div>
                                 {% else %}
                                    <a href="">
                                        <ing class="card-img-top img-fluid" src="{{ MEDIA_URL }}noimage.png" alt="{{ performance.performance_title }}">
                                    </a>
                                 {% endif %}
                                 <!-- Info-section -->
                                 <div class="card-body pb-0">
                                    <p class="lead mb-0 font-weight-bold">{{ performance.artist_id }}</p>
                                 </div>
                                 <div class="card-body pb-0">
                                     <p class="lead mb-0 font-weight-bold">{{ performance.performance_title }}</p>
                                 </div>
                                 <div class="card-footer bg-white pt-0 border-0 text-left">
                                     <div class="row">
                                         <div class="col">
                                             <p class="mb-0 text-left">{{ performance.performance_description }}</p>
                                             {% if artist.rating %}
                                                 <small class="text-muted"><i class="fas fa-star mr-1"></i>{{ artist.rating }} / 10 (+ how many?)</small>
                                             {% else %}
                                                 <small class="text-muted">No rating</small>
                                             {% endif %}
                                             {% if performance.composer %}
                                                <small class="text-muted">Composer: {{ performance.composer }}</small>
                                             {% endif %}
                                             <p class="mb-0 text-left">{{ performance.category }}</p>
                                             <p class="mb-0 text-left">{{ performance.artist_id }}</p>
                                         </div>
                                     </div>
                                 </div>
                                 <!-- Link to artist-page -->
                                 <div class="card-action">
                                     <a href="">Go to artist-page</a>
                                 </div>
                             </div>
                         </div>
                     {% endfor %}
                 </div>
             </div>
         </div>
         <!-- "Back to top"-button from Boutique Ado-project -->
         <div class="btt-button shadow-sm rounded-0 border border-black">
            <a class="btt-link d-flex h-100">
                <i class="fas fa-arrow-up text-black mx-auto my-auto"></i>
            </a>
         </div>
     </div>
{% endblock %}

{% block postload_js %}
     {{ block.super }}
     <!-- "Back to top"-button from Boutique Ado-project -->
     <script type="text/javascript">
        $('.btt-link').click(function(e) {
            window.scrollTo(0,0)
        })
     </script>
{% endblock %}
